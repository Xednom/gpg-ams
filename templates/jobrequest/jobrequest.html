{% extends 'base.html' %}
{% block title %}
<title>Job Request</title>
{% endblock %}



{% block dashboard_notif %}
{% endblock %}

{% block content %}
<div class="row">
  <div class="col-lg-12">
    <h1 class="page-header">Job Request Tab Informations</h1>
  </div>
</div>
<!-- Breadcrumbs-->
<ol class="breadcrumb">
<li class="breadcrumb-item">
<a href="{% url 'users:home' %}">Dashboard</a>
</li>
<li class="breadcrumb-item active">Job Request Tab</li>
</ol>
<div id="gpg-job-request" style="width: 100%;">
  <div id="content-wrapper">
      <div class="container-fluid">
        <div class="input-group mb-3">
          <div class="panel panel-default">
            <div class="panel-heading">
              Job Request tab
            </div>
            <div class="panel-body">
              <form v-on:submit.prevent="addJobRequest()" id="jobReqForm">
                {% csrf_token %}
                <div class="form-row">
                  <div class="form-group col-md-2">
                    <label>Date</label>
                    <input class="form-control" type="date" v-model="newJobRequest.date" name="date">
                  </div>
                  <div class="form-group col-md-2">
                    <label>Due date</label>
                    <input class="form-control" type="date" v-model="newJobRequest.due_date" name="due-date">
                  </div>
                    <div class="form-group col-md-2">
                      <label for="inputEmail4">Client Code</label>
                      <input
                        type="text"
                        class="form-control"
                        id="inputEmail4"
                        v-model="newJobRequest.client_code"
                        autocomplete="off"
                        required >
                    </div>
                    <div class="form-group col-md-2">
                      <label for="inputReqTitle">Job Request title</label>
                      <input
                        type="text"
                        class="form-control"
                        v-model="newJobRequest.job_request_title"
                        autocomplete="of"
                        required >
                    </div>
                    <div class="form-group col-md-2">
                      <label for="inputJobReqSent">Job Request sent via</label>
                      <input
                        type="text"
                        class="form-control"
                        v-model="newJobRequest.job_request_sent_via"
                        required
                        autocomplete="off" >
                    </div>
                    <div class="form-group col-md-2">
                      <label>Status of the job request</label>
                      <select class="form-control" v-model="newJobRequest.status_of_the_job_request" required >
                        <option v-for="status in statusOfTheJobRequests">[[status.type_of_status]]</option>
                      </select>
                    </div>
                    <div class="form-group col-md-2">
                      <label>Project Managers</label>
                      <select class="form-control" v-model="newJobRequest.project_managers" required>
                        <option v-for="pm in projectManagers">[[ pm.project_manager ]]</option>
                      </select>
                    </div>
                    <div class="form-group col-md-4">
                      <label for="inputJobRequest">Total hours and minutes allocated</label>
                      <input
                        type="text"
                        class="form-control"
                        v-model="newJobRequest.total_hours_minutes_allocated"
                        required
                        autocomplete="off" >
                    </div>
                    <div class="form-group col-md-6">
                      <label for="inputVASupport">VA admin support</label>
                      <input
                        type="text"
                        class="form-control"
                        v-model="newJobRequest.VA_admin_support"
                        required
                        autocomplete="off" >
                    </div>
                </div>
                <!-- form-row -->
                <div class="form-row">
                  <div class="form-group col-md-6">
                    <label>Job Request instruction</label>
                    <textarea
                      class="form-control"
                      rows="8"
                      cols="80"
                      v-model="newJobRequest.job_request_instruction"
                      autocomplete="off"
                      required ></textarea>
                  </div>

                  <div class="form-group col-md-6">
                    <label>Notes and coaching from Project Manager</label>
                    <textarea
                      class="form-control"
                      rows="8"
                      cols="80"
                      v-model="newJobRequest.notes_and_coaching_from_project_manager"
                      required
                      autocomplete="off" ></textarea>
                  </div>

                  <button type="submit" class="btn btn-success">Add job request</button>
                </div>
              </form>
            </div>
          </div>

        </div>

      </div>
      <!-- /.row
      <div class="row">
          <div class="col-lg-12">
              <div class="panel panel-default">
                  <div class="panel-heading">
                      Job Request Information table
                  </div>
                  <!-- /.panel-heading
                  <div class="panel-body">
                      <table width="100%" class="table table-striped table-bordered table-hover" id="jobRequestTable" data-server-side="true" data-ajax="/api/v1/jobrequest/?format=datatables">
                          <thead>
                              <tr>
                                  <th data-data="date">Date</th>
                                  <th data-data="due_date">Due date</th>
                                  <th data-data="client_code">Client code</th>
                                  <th data-data="job_request_title">Job Request title</th>
                                  <th data-data="job_request_sent_via">Job Request Sent Via</th>
                                  <th data-data="job_request_instruction">Job Request Instruction</th>
                                  <th data-data="total_hours_minutes_allocated">Total hours and minutes allocated</th>
                                  <th data-data="project_managers">Project managers</th>
                                  <th data-data="VA_admin_support">VA Admin support</th>
                                  <th data-data="status_of_the_job_request">Status of the Job request</th>
                                  <th data-data="notes_and_coaching_from_project_manager">Notes and coaching from Project Manager</th>
                              </tr>
                          </thead>
                      </table>
                      <!-- /.table-responsive -->
                  </div>
                  <!-- /.panel-body -->
              </div>
              <!-- /.panel -->
          </div>
          <!-- /.col-lg-12 -->
      </div>
      <!-- /.row -->
      <!-- container-fluid -->
  </div>
<!-- content-wrapper -->
</div>
<!-- gpg app on vue -->
{% endblock %}
